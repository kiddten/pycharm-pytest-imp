buildscript {
    repositories {
        mavenCentral()
    }
    dependencies {
        classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:1.3.61"
    }
}

plugins {
    id 'java'
    id 'org.jetbrains.intellij' version '0.4.18'
}

apply plugin: 'kotlin'

group 'com.y4kstudios'
version '1.0-SNAPSHOT'

sourceCompatibility = 1.8

repositories {
    mavenCentral()

    maven { url "https://www.jetbrains.com/intellij-repository/releases" }
    maven { url "https://jetbrains.bintray.com/intellij-third-party-dependencies" }
}

dependencies {
    testCompile group: 'junit', name: 'junit', version: '4.12'
}

// See https://github.com/JetBrains/gradle-intellij-plugin/
intellij {
    version 'PY-2020.1'

    plugins=['python', 'PsiViewer:201.6251.22-EAP-SNAPSHOT.3']
}
patchPluginXml {
    changeNotes """
      - Add support for auto-completing lambda fixtures
    """
}
prepareSandbox {
    preserve {
        include 'plugins/psiviewer/**'
        include 'system/plugins/**'
    }
}
